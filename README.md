# Java Explore With Me Plus

## Project Overview
Сервис для организации событий и участия в них. Позволяет пользователям:
- Создавать и управлять событиями
- Подавать заявки на участие в событиях
- Просматривать подборки событий
- Администраторам управлять категориями, событиями и пользователями

**Технологический стек**:
- Java
- Spring Boot
- Spring Cloud (Config Server, Eureka, Gateway)
- База данных (H2, PostgreSQL)

**Описание**:
ExploreWithMe – это приложение-афиша, позволяющее организовать и управлять событиями.

## Архитектура

Система состоит из трех сервисов:

### 1. Основной сервис (Core)
Обрабатывает всю бизнес-логику приложения, состоящую из подмодулей:
- **event-service**: управление событиями
- **interaction-api**: обработка запросов на участие
- **location-service**: управление местоположениями событий
- **request-service**: обработка заявок пользователей
- **user-service**: управление пользователями

### 2. Сервис статистики (stats-service)
Собирает и предоставляет статистику о посещениях:
- Фиксирует обращения к эндпоинтам
- Предоставляет аналитику по просмотрам

### 3. Инфраструктурный модуль (infra)
Содержит Maven-подмодули для каждого инфраструктурного компонента:
- **config-server** — служба конфигурации
- **discovery-server** — служба обнаружения
- **gateway-server** — служба API-шлюза

**Взаимодействие сервисов**:
Основной сервис отправляет информацию о запросах к API в сервис статистики для учета просмотров.

## API Documentation

### Внешний API (основной сервис)
Полная спецификация OpenAPI 3.0 доступна по адресу: `http://localhost:8080` (при локальном запуске)

Основные группы эндпоинтов:
- **Admin API**: управление категориями, событиями, пользователями, подборками
- **Private API**: личный кабинет пользователя (события, заявки)
- **Public API**: публичный доступ к событиям, категориям, подборкам

### Внутренний API (сервис статистики)
- `POST /hit` - сохранение информации о запросе
- `GET /stats` - получение статистики посещений

Примеры запросов:
```json
// Сохранение информации о запросе
POST /hit
{
  "app": "ewm-main-service",
  "uri": "/events/1",
  "ip": "192.168.1.1",
  "timestamp": "2023-05-01 12:00:00"
}

// Получение статистики
GET /stats?start=2023-05-01%2000:00:00&end=2023-05-02%2023:59:59&uris=/events/1,/events/2&unique=true
